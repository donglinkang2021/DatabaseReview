# 一、数据库系统引论

[TOC]

## 基本概念

- 概念
  - 型（Type）
    - 对某一类数据的结构和属性的说明
  - 值（Value）
    - 是型的一个具体赋值
- 例子
  - 学生记录（学号，姓名，性别，系别，年龄，籍贯）
  - 一个记录值（201315130，李明，男，计算机系，19，江苏南京市）

- 模式（Schema）
  - 数据库逻辑结构和特征的描述
  - 是型的描述，不涉及具体值
  - 反映的是数据的结构及其联系
  - 模式是相对稳定的
- 实例（Instance）
  - 模式的一个具体值
  - 反映数据库某一时刻的状态
  - 同一个模式可以有很多实例
  - 实例随数据库中的数据的更新而变动

## 三级模式结构

### 模式

- 模式（也称逻辑模式）
  - 数据库中全体数据的逻辑结构和特征的描述
  - 所有用户的公共数据视图
- 一个数据库只有一个模式
- 模式的地位：是数据库系统模式结构的中间层
- 模式的定义
  - 数据的逻辑结构（数据项的名字、类型、取值范围等）
  - 数据之间的联系
  - 数据有关的安全性、完整性要求

### 外模式

- 外模式（也称子模式或用户模式）
  - 数据库用户（包括应用程序员和最终用户）使用的局部数据的逻辑结构和特征的描述
  - 数据库用户的数据视图，是与某一应用有关的数据的逻辑表示
- 外模式的地位：介于模式与应用之间
- 模式与外模式的关系：一对多
- 外模式与应用的关系：一对多

### 内模式

- 内模式（也称存储模式）
  - 是数据物理结构和存储方式的描述
  - 是数据在数据库内部的表示方式
  - 记录的存储方式（例如，顺序存储，按照B树结构存，按hash方法存等）
  - 索引的组织方式
  - 数据是否压缩存储
  - 数据是否加密
  - 数据存储记录结构的规定
- 一个数据库只有一个内模式

## 二级映射与数据独立性

- 三级模式是对数据的三个抽象级别
- 二级映象在数据库管理系统内部实现这三个抽象层次的联系和转换
  - 外模式／模式映像
  - 模式／内模式映像 

### 外模式／模式

- 模式：描述的是数据的全局逻辑结构
- 外模式：描述的是数据的局部逻辑结构 
  - 同一个模式可以有任意多个外模式 
- 每一个外模式，数据库系统都有一个外模式／模式映象，定义外模式与模式之间的对应关系
- 映象定义通常包含在各自外模式的描述中
- 保证数据的==逻辑独立性==
  - 当模式改变时，数据库管理员对外模式／模式映象作相应改变，使外模式保持不变
  - 应用程序是依据数据的外模式编写的，应用程序不必修改，保证了数据与程序的逻辑独立性，简称数据的逻辑独立性

### 模式／内模式映像

- 模式／内模式映象定义了数据全局逻辑结构与存储结构之间的对应关系
  - 例如，说明逻辑记录和字段在内部是如何表示的
- 数据库中模式／内模式映象是唯一的
- 该映象定义通常包含在模式描述中
- 保证数据的==物理独立性==
  - 当数据库的存储结构改变了（例如选用了另一种存储结构），数据库管理员修改模式／内模式映象，使模式保持不变。
- 应用程序不受影响。保证了数据与程序的物理独立性，简称数据的物理独立性。